<app-header [titre]=" 'tab2.title' | translate"></app-header>
<ion-content fullscreen>
  <ng-container *ngIf="loading">
    <ion-progress-bar type="indeterminate"></ion-progress-bar>
    <p class="text-spinner">{{ 'global.loading' | translate }}</p>
    <div class="content-spinner">
      <div class="whirly-loader"></div>
    </div>
  </ng-container>

  <ng-container *ngIf="!loading && !dataError.value">
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)" pullMin="140">
      <div class="refresh whirly-loader"></div>
    </ion-refresher>

    <swiper [scrollbar]="false" [slidesPerView]="1" [autoHeight]="true">
      <ng-template swiperSlide>
        <app-instant-forecast [exDataSolarWind]="moduleACE" [solarWind]="solarWindInstant" [unit]="unit"></app-instant-forecast>
      </ng-template>
      <ng-template swiperSlide>
        <app-aurora-data-forecast [kpForecast27]="kpForecast27days" [kpForecast]="kpForecast" [solarWind]="solarWind"></app-aurora-data-forecast>
      </ng-template>
    </swiper>
  </ng-container>

  <app-broken *ngIf="!loading && dataError.value" [dataError]="dataError"></app-broken>
</ion-content>
