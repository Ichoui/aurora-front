<app-header titre="{{ 'tab2.title' | translate }}"></app-header>
<ion-content fullscreen>
  <ng-container *ngIf="loading">
    <ion-progress-bar type="indeterminate"></ion-progress-bar>
    <p class="text-spinner">{{ 'global.loading' | translate }}</p>
    <div class="content-spinner">
      <div class="whirly-loader"></div>
    </div>
  </ng-container>

  <ng-container *ngIf="!loading && !dataError.value">
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)" pullMin="140">
      <div class="refresh whirly-loader"></div>
    </ion-refresher>

    <swiper [scrollbar]="false" [slidesPerView]="1">
      <ng-template swiperSlide>
        <app-kpindex [dataSolarWind]="moduleACE" [unit]="unit"></app-kpindex>
      </ng-template>
      <ng-template swiperSlide>
        <app-maps [kpForecast27]="kpForecast27days" [kpForecast]="kpForecast"></app-maps>
      </ng-template>
    </swiper>
  </ng-container>

  <app-broken *ngIf="!loading && dataError.value" [dataError]="dataError"> </app-broken>

</ion-content>
