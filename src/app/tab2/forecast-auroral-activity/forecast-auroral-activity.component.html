<div class="container">
  <!--    World Map -->
  <div class="card-container">
    <div class="header">
      <span>
        {{ 'tab2.forecast.aurora-map' | translate }}
      </span>
      <ion-icon id="aurora-map" name="information-circle"></ion-icon>
      <ion-popover trigger="aurora-map" triggerAction="click" alignment="center">
        <ng-template>
          <div [innerHTML]="'tab2.forecast.tooltip.map' | translate"></div>
        </ng-template>
      </ion-popover>
    </div>
    <div class="sub">{{ 'tab2.forecast.sub-aurora-map' | translate }}</div>
    <div id="map_canvas" class="data-not-displayed" [routerLink]="['..', 'tab2', 'map']"></div>
  </div>

  <!--    KP NEXT HOURS -->
  <div class="card-container">
    <div class="header">
      <span>
        {{ 'tab2.forecast.nexthours.title' | translate }}
      </span>
      <ion-icon id="kp-next-hours" name="information-circle"></ion-icon>
      <ion-popover trigger="kp-next-hours" triggerAction="click" alignment="center">
        <ng-template>
          <div [innerHTML]="'tab2.forecast.tooltip.kp-next-hours' | translate"></div>
          <ng-container *ngTemplateOutlet="documentation; context: { cardId: 11, path: 'infos' }"></ng-container>
        </ng-template>
      </ion-popover>
    </div>
    <div class="sub">{{ 'tab2.forecast.nexthours.sub' | translate }}</div>
    <canvas id="kpnexthours" #canvNextHour></canvas>
    <div *ngIf="kpForecast.length === 0" class="data-not-displayed" [routerLink]="['..', 'tab3', 'helpcenter']">
      {{ 'tab2.forecast.no-data' | translate }}
    </div>
    <ng-container *ngTemplateOutlet="loading ? isLoading : null; context: { canvHeight: canvNextHour?.style.height }"></ng-container>
  </div>

  <!--    KP 27 DAYS-->
  <div class="card-container">
    <div class="header">
      <span>
        {{ 'tab2.forecast.longterm.title' | translate }}
      </span>
      <ion-icon id="kp-next-days" name="information-circle"></ion-icon>
      <ion-popover trigger="kp-next-days" triggerAction="click" alignment="center">
        <ng-template>
          <div [innerHTML]="'tab2.forecast.tooltip.kp-next-days' | translate"></div>
          <ng-container *ngTemplateOutlet="documentation; context: { cardId: 11, path: 'infos' }"></ng-container>
        </ng-template>
      </ion-popover>
    </div>
    <div class="sub">{{ 'tab2.forecast.longterm.sub' | translate }}</div>
    <canvas id="kpforecast" #canvKpForecast></canvas>
    <div *ngIf="kpForecast27.length === 0" class="data-not-displayed" [routerLink]="['..', 'tab3', 'helpcenter']">
      {{ 'tab2.forecast.no-data' | translate }}
    </div>
    <ng-container *ngTemplateOutlet="loading ? isLoading : null; context: { canvHeight: canvKpForecast?.style.height }"></ng-container>
  </div>

  <!--    SPEED SOLAR WIND-->
  <div class="card-container">
    <div class="header">
      <span>
        {{ 'tab2.forecast.speed.title' | translate }}
      </span>
      <ion-icon id="wind-speed" name="information-circle"></ion-icon>
      <ion-popover trigger="wind-speed" triggerAction="click" alignment="center">
        <ng-template>
          <div [innerHTML]="'tab2.forecast.tooltip.wind-speed' | translate: { unit: measure === 'metric' ? '500km/s' : '350mps' }"></div>
          <ng-container *ngTemplateOutlet="documentation; context: { cardId: 12, path: 'infos' }"></ng-container>
        </ng-template>
      </ion-popover>
    </div>
    <div class="sub">{{ 'tab2.forecast.speed.sub' | translate: { unit: measure === 'metric' ? 'km/s' : 'mps' } }}</div>
    <canvas id="speed" #canvSpeed></canvas>
    <div *ngIf="solarWind.length === 0" class="data-not-displayed" [routerLink]="['..', 'tab3', 'helpcenter']">
      {{ 'tab2.forecast.no-data' | translate }}
    </div>
    <ng-container *ngTemplateOutlet="loading ? isLoading : null; context: { canvHeight: canvSpeed?.style.height }"></ng-container>
  </div>

  <!--    DENSITY SOLAR WIND -->
  <div class="card-container">
    <div class="header">
      <span>
        {{ 'tab2.forecast.density.title' | translate }}
      </span>
      <ion-icon id="wind-density" name="information-circle"></ion-icon>
      <ion-popover trigger="wind-density" triggerAction="click" alignment="center">
        <ng-template>
          <div [innerHTML]="'tab2.forecast.tooltip.wind-density' | translate"></div>
          <ng-container *ngTemplateOutlet="documentation; context: { cardId: 12, path: 'infos' }"></ng-container>
        </ng-template>
      </ion-popover>
    </div>
    <div class="sub">{{ 'tab2.forecast.density.sub' | translate }}</div>
    <canvas id="density" #canvDensity></canvas>
    <div *ngIf="solarWind.length === 0" class="data-not-displayed" [routerLink]="['..', 'tab3', 'helpcenter']">
      {{ 'tab2.forecast.no-data' | translate }}
    </div>
    <ng-container *ngTemplateOutlet="loading ? isLoading : null; context: { canvHeight: canvDensity?.style.height }"></ng-container>
  </div>

  <!--    BZ SOLAR WIND -->
  <div class="card-container">
    <div class="header">
      <span>
        {{ 'tab2.forecast.bz.title' | translate }}
      </span>
      <ion-icon id="wind-bz" name="information-circle"></ion-icon>
      <ion-popover trigger="wind-bz" triggerAction="click" alignment="center">
        <ng-template>
          <div [innerHTML]="'tab2.forecast.tooltip.wind-bz' | translate"></div>
          <ng-container *ngTemplateOutlet="documentation; context: { cardId: 13, path: 'infos' }"></ng-container>
        </ng-template>
      </ion-popover>
    </div>
    <div class="sub">{{ 'tab2.forecast.bz.sub' | translate }}</div>
    <canvas id="bz" #canvBz></canvas>
    <div *ngIf="solarWind.length === 0" class="data-not-displayed" [routerLink]="['..', 'tab3', 'helpcenter']">
      {{ 'tab2.forecast.no-data' | translate }}
    </div>
    <ng-container *ngTemplateOutlet="loading ? isLoading : null; context: { canvHeight: canvBz?.style.height }"></ng-container>
  </div>

  <!--    BT SOLAR WIND -->
  <div class="card-container">
    <div class="header">
      <span>
        {{ 'tab2.forecast.bt.title' | translate }}
      </span>
      <ion-icon id="wind-bt" name="information-circle"></ion-icon>
      <ion-popover trigger="wind-bt" triggerAction="click" alignment="center">
        <ng-template>
          <div [innerHTML]="'tab2.forecast.tooltip.wind-bt' | translate"></div>
          <ng-container *ngTemplateOutlet="documentation; context: { cardId: 13, path: 'infos' }"></ng-container>
        </ng-template>
      </ion-popover>
    </div>
    <div class="sub">{{ 'tab2.forecast.bt.sub' | translate }}</div>
    <canvas id="bt" #canvBt></canvas>
    <div *ngIf="solarWind.length === 0" class="data-not-displayed" [routerLink]="['..', 'tab3', 'helpcenter']">
      {{ 'tab2.forecast.no-data' | translate }}
    </div>
    <ng-container *ngTemplateOutlet="loading ? isLoading : null; context: { canvHeight: canvBt?.style.height }"></ng-container>
  </div>

  <!--    SOLAR CYCLE -->
  <div class="card-container">
    <div class="header">
      <span>
        {{ 'tab2.forecast.cycle.title' | translate }}
      </span>
      <ion-icon id="solar-cycle" name="information-circle"></ion-icon>
      <ion-popover trigger="solar-cycle" triggerAction="click" alignment="center">
        <ng-template>
          <div [innerHTML]="'tab2.forecast.tooltip.solar-cycle' | translate"></div>
          <ng-container *ngTemplateOutlet="documentation; context: { cardId: 14, path: 'infos' }"></ng-container>
        </ng-template>
      </ion-popover>
    </div>
    <div class="sub">{{ 'tab2.forecast.cycle.sub' | translate }}</div>
    <canvas id="cycle" #canvCycle></canvas>
    <div *ngIf="solarCycle.length === 0" class="data-not-displayed" [routerLink]="['..', 'tab3', 'helpcenter']">
      {{ 'tab2.forecast.no-data' | translate }}
    </div>
    <ng-container *ngTemplateOutlet="loading ? isLoading : null; context: { canvHeight: canvCycle?.style.height }"></ng-container>
  </div>

  <!--    POLES NORTH / SOUTH -->
  <div class="card-container">
    <div class="header">
      <span>
        {{ 'tab2.forecast.poles' | translate }}
      </span>
      <ion-icon id="poles" name="information-circle"></ion-icon>
      <ion-popover trigger="poles" triggerAction="click" alignment="center">
        <ng-template>
          <div [innerHTML]="'tab2.forecast.tooltip.poles' | translate"></div>
        </ng-template>
      </ion-popover>
    </div>
    <div class="sub">{{ 'tab2.forecast.poles.sub' | translate }}</div>
    <div (click)="showPoles()" class="poles">
      <img src="assets/img/ovation.png" alt="ovation model" />
    </div>
  </div>

  <ng-template #isLoading let-canvHeight="canvHeight">
    <app-placeholder-charts [canvHeight]="canvHeight"></app-placeholder-charts>
  </ng-template>

  <ng-template #documentation let-cardId="cardId" let-path="path">
    <div class="documentation-link">
      <span (click)="navigateToDoc(cardId, path)">{{ 'global.info' | translate }}</span>
    </div>
  </ng-template>
</div>
